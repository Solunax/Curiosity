# Curiosity
대학 팀프로젝트

## 탐사로버 Curiosity 제작 및 모니터링 앱 제작(IoT 프로젝트)
- 3학년 팀 프로젝트 및 졸업작품으로 진행한 팀 프로젝트
- 로버의 하드웨어와 로버의 정보를 수신받아 모니터링하는 앱을 제작
  - 로버는 Node MCU(아두이노), Arduino MEGA를 활용하여 제작함
- 본인은 이번 프로젝트에서 다음의 일을 수행하였음
  - AWS DynamoDB, API Gateway, Lambda 등 DB에 필요한 구성 설정 및 테스트
  - 로버 <-> AWS DynamoDB 간 통신 설정 및 테스트
  - Activity, Fragment 기반 생성
  - retrofit2를 API 및 인터페이스 및 데이터클래스 생성과 AWS와 HTTP 통신(DB)
  - 내부 DB를 사용하는데 필요한 DB 클래스, DAO, view model 및 model등을 생성함
  - 로버의 GPS 기반 위치표시 기능 전체, 로버의 캡처기능 일부를 구현
  - 내부 DB에 로버의 이름 정보를 추가, 삭제, 확인하는 기능 구현
  
<br>

## 주요 기능
- 현장 정보 수집 및 확인
  - 로버가 온도, 습도, 위치등 정보를 수집함
  - 수집한 정보는 WiFi를 통해 AWS DynamoDB로 전송됨
  - DB에 저장된 정보를 안드로이드 앱을 통해 확인 가능
  - 위치정보는 Google Map을 활용해 로버의 현재 위치 및 이동경로를 확인할 수 있음

- 로버 카메라를 통한 현장 영상 확인
  - 로버에 부착된 CAM을 이용해 주변의 상태를 눈으로 확인할 수 있음
  - 필요에 따라 CAM 화면을 캡쳐하여 저장할 수 있음
  - 로버의 CAM 주변에 부착된 LED를 안드로이드 앱에서 제어할 수 있음
  
- 다수 로버 관리
  - 앱 내부의 DB 및 AWS DynamoDB를 통해 로버를 이름별로 구분가능
  - 구분을 통해 원하는 로버의 정보만 확인할 수 있음

<br>

## 개발환경
- 로버의 데이터 저장을 목적으로 AWS의 DynammoDB를 사용함
  - DynamoDB와 로버, 앱을 연동하기 위해 Lambda, API Gateway를 통해 추가적인 설정을 하였음
- 안드로이드 앱 개발을 위해 Android Studio를 사용함
  - 개발 언어로는 Kotlin을 사용함
  - Kotlin의 사용 이유?
    - Java에 비해 코드의 양이 적음(간결함)
    - Null 허용 안함으로 인한 오류 발생 감소

<br>

## 주요 라이브러리
1. Room : 앱 내부 데이터베이스를 사용하기 위해 사용한 라이브러리
1. Coroutine : HTTP 통신시 비동기 처리를 위해 사용한 라이브러리
1. MPAndroidChart : 로버에서 수집한 온도, 습도를 그래프로 표현하기 위해 사용한 라이브러리
1. livedata : Livedata를 사용하기 위한 라이브러리

<br>

## 디자인 패턴
- MVVM 패턴 활용
  - 앱의 규모가 그다지 크지 않지만 MVVM 패턴을 적용하였다.
  - 사용자가 상호작용 하는 view에 모든 코드를 때려넣어서 사용하니 가독성이 떨어지고 구분이 힘들다.
  - 가독성이 떨어지고 무슨 동작을 수행하는 코드인지 구분이 어려워 디버깅에 애로사항이 있었다.
  - view에서 동작에 따라 view model, model(repository)에서 HTTP통신 및 DB데이터를 가져온다.
  - view에서는 observe를 통해 LiveData를 관측하다 변경되면 그에 맞는 동작만 수행하면 되기에 불필요한 함수와 코드를 지워서 가독성이 좋아졌다.
  - view model을 설계하는것이 어려운것이 단점이긴하나, 이런식으로 연습해서 길러나가면 될듯하다.
 
<br>

## 앱 주요 기능 화면
### 1. 현재 온ㆍ습도 확인(마지막으로 업로드된 데이터)
![temp,humi](https://user-images.githubusercontent.com/97011241/190854406-e3a1fbe7-383a-478a-8b3a-2fa53a6ef94a.gif)
- 로버가 관측한 현재 온도 및 습도를 그래프로 표시해 줌
- 활동중인 로버가 다수일 경우 상단의 스피너를 통해 원하는 로버의 온도, 습도 데이터를 가져올 수 있음
- 로버가 오프라인일 경우 가장 마지막에 업로드된 데이터를 표시함

### 2. 특정 날짜의 온ㆍ습도 확인
![datepick](https://user-images.githubusercontent.com/97011241/190854454-b73d3159-751e-448d-90a9-7f9b37e9a3f4.gif)
- 로버가 관측한 데이터는 로버별, 날짜별로 관리됨
- 특정 날짜에 업로드한 온도, 습도 데이터를 선택하여 확인할 수 있음

### 3. 로버의 현재 위치 확인
![location](https://user-images.githubusercontent.com/97011241/190854585-43538c39-8c32-4682-85ba-48342a7211b5.gif)
- 로버의 현재 위치의 위도와 경도를 바탕으로 Google Map에 표시함
- 로버별로 위치가 상이할 경우 상단의 스피너를 통해 원하는 로버의 위치정보를 표시할 수 있음

### 4. 로버의 이동경로 확인
![rovermove](https://user-images.githubusercontent.com/97011241/190854660-b4aa5a0c-7e08-4b39-86c2-0f03495f09d5.jpg)
- 로버가 이동한 경로를 표시함
